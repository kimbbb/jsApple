<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./list.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.6.1.min.js"
    integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous">
    </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <title>Document</title>
</head>

<div class="container">
  <div class="row">

    <!-- <div class="col-sm-4">
        <img src="https://via.placeholder.com/600" class="w-100">
        <h5>Card title</h5>
        <p>가격 : 70000</p>
      </div> -->

  </div>

  <div class="container">
    <button class="btn btn-danger" id="more">더보기</button>
  </div>

  <div class="container">
    <button class="btn btn-danger" id="price">가격순 정렬</button>
  </div>

  <div class="container">
    <button class="btn btn-danger" id="cba">다나가순 정렬</button>
  </div>

  <div class="container">
    <button class="btn btn-danger" id="abc">가나다 정렬</button>
  </div>

  <div class="container">
    <button class="btn btn-danger" id="six">6만원 이하 상품보기</button>
  </div>
</div>

  <div class="container">
    <button class="btn btn-danger" id="reset">되돌리기</button>
  </div>
</div>

<!-- <script>
  
  let products = [
    { id : 0, price : 70000, title : 'Blossom Dress' },
    { id : 1, price : 50000, title : 'Springfield Shirt' },
    { id : 2, price : 60000, title : 'Black Monastery' }
  ];

  // for(let i=0; i<products.length; i++){
  //   $('.card-body h5').eq(i).html(products.title[i]);
  //   $('.card-body p').eq(i).html(products.price[i]);
  // }

  for(let i=0; i<products.length; i++){
    $('.card-body h5').eq(i).html(products[i].title)
    $('.card-body p').eq(i).html(`가격 : ${products[i].price}`)
  }
</script>  -->
<script>
  let products = [
    { id: 0, price: 70000, title: 'Blossom Dress' },
    { id: 1, price: 50000, title: 'Springfield Shirt' },
    { id: 2, price: 60000, title: 'Black Monastery' }
  ];
  let reProduct = [
    { id: 0, price: 70000, title: 'Blossom Dress' },
    { id: 1, price: 50000, title: 'Springfield Shirt' },
    { id: 2, price: 60000, title: 'Black Monastery' }
  ];

  $('#price').on('click',function() {
    products.sort(function(a,b) {
      return a.price - b.price
    })
    $('.row').html('');
    products.forEach((a) => {
    let card =
      `<div class="col-sm-4">
        <img src="https://via.placeholder.com/600" class="w-100">
        <h5>${a.title}</h5>
        <p>가격 : ${a.price}</p>
      </div>`;
    $('.row').append(card)
  });
})

  $('#cba').on('click',function() {
    products.sort(function(a,b) {
      if(a.title<b.title){
        return 1
      }else{
        return -1
      }
    });
    $('.row').html('');
    products.forEach((a) => {
    let card =
      `<div class="col-sm-4">
        <img src="https://via.placeholder.com/600" class="w-100">
        <h5>${a.title}</h5>
        <p>가격 : ${a.price}</p>
      </div>`;
    $('.row').append(card)
  });
})


  $('#abc').on('click',function() {
    products.sort(function(a,b) {
      if(a.title>b.title){
        return 1
      }else{
        return -1
      }
    });
    $('.row').html('');
    products.forEach((a) => {
    let card =
      `<div class="col-sm-4">
        <img src="https://via.placeholder.com/600" class="w-100">
        <h5>${a.title}</h5>
        <p>가격 : ${a.price}</p>
      </div>`;
    $('.row').append(card)
  });
})


  $('#six').on('click',function() {
    var newProduct = products.filter(function(a) {
      return a.price<=60000
    });
    console.log(newProduct)
    $('.row').html('');
    newProduct.forEach((a) => {
    let card =
      `<div class="col-sm-4">
        <img src="https://via.placeholder.com/600" class="w-100">
        <h5>${a.title}</h5>
        <p>가격 : ${a.price}</p>
      </div>`;
    $('.row').append(card)
  });

  })


  $('#reset').on('click',function() {
    $('.row').html('');
    reProduct.forEach((a) => {
    let card =
      `<div class="col-sm-4">
        <img src="https://via.placeholder.com/600" class="w-100">
        <h5>${a.title}</h5>
        <p>가격 : ${a.price}</p>
      </div>`;
    $('.row').append(card)
  });

  })

  products.forEach((a) => {
    let card =
      `<div class="col-sm-4">
        <img src="https://via.placeholder.com/600" class="w-100">
        <h5>${a.title}</h5>
        <p>가격 : ${a.price}</p>
      </div>`;
    $('.row').append(card)
  });

  let count = 0
  $('#more').on('click', function () {
    count += 1
    if (count == 1) {
      plus('https://codingapple1.github.io/js/more1.json')
    }
    else if(count == 2){
      plus('https://codingapple1.github.io/js/more2.json')
      $('#more').hide()
    }

  })

  function plus(url) {
    $.get(url)
      .done(function (data) {
        data.forEach((a) => {
          let more =
            `<div class="col-sm-4 more">
              <img src="https://via.placeholder.com/600" class="w-100">
              <h5>${a.title}</h5>
              <p>가격 : ${a.price}</p>
            </div>`;
          $('.row').append(more)
        });
      })
  }


</script>

</html>